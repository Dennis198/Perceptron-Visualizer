(this["webpackJsonpperceptron-visualizer"]=this["webpackJsonpperceptron-visualizer"]||[]).push([[0],{47:function(t,e,i){},48:function(t,e,i){},49:function(t,e,i){},55:function(t,e,i){"use strict";i.r(e);var n=i(3),a=i(0),l=i.n(a),r=i(9),o=i.n(r),s=(i(47),i(48),i(30)),c=i(31),h=i(38),d=i(37);i(49);function u(t,e,i,n){t.weight_1+=i*e.posX*n,t.weight_2+=i*e.posY*n,t.bias_weight+=1*i*n}function f(t,e,i){var n,a=e*t.weight_1+i*t.weight_2+1*t.bias_weight;return(n=a)>0?1:n<0?-1:0}function g(t){var e=document.getElementById("visual_perceptron").getContext("2d");e.clearRect(50,10,233,17),e.clearRect(50,70,233,17),e.clearRect(50,130,233,17),e.fillStyle="black",e.font="20px Arial",e.fillText("w0: "+(Math.round(100*t.bias_weight)/100).toFixed(2),50,25),e.font="20px Arial",e.fillText("w1: "+(Math.round(100*t.weight_1)/100).toFixed(2),50,85),e.font="20px Arial",e.fillText("w2: "+(Math.round(100*t.weight_2)/100).toFixed(2),50,145)}var p="blue";function v(){var t=document.getElementById("2d-plane"),e=t.getContext("2d");e.clearRect(0,0,t.width,t.height),e.beginPath(),e.fillStyle="lightgray",e.fillRect(0,0,400,350),e.stroke()}function b(t,e){for(var i=document.getElementById("2d-plane"),n=i.getContext("2d"),a=n.getImageData(0,0,i.width,i.height),l=a.data,r=0;r<l.length;r+=4){var o=r/4%a.width,s=Math.floor(r/4/a.height),c=f(t,o,s);x(o,s,n,1===c?"#87CEFA":-1===c?"#FA8072":"black")}_(e),function(t){var e=document.getElementById("2d-plane").getContext("2d");e.strokeStyle="#ADFF2F",e.beginPath(),e.lineWidth=4,e.moveTo(0,-t.bias_weight/t.weight_2),e.lineTo(400,-t.bias_weight/t.weight_2-t.weight_1/t.weight_2*400),e.stroke()}(t),function(t,e){for(var i=document.getElementById("2d-plane").getContext("2d"),n=0;n<t.length;n++){var a=t[n];a.label!==f(e,a.posX,a.posY)&&(i.beginPath(),i.lineWidth=3,i.moveTo(a.posX-5,a.posY-5),i.lineTo(a.posX+5,a.posY+5),i.moveTo(a.posX+5,a.posY-5),i.lineTo(a.posX-5,a.posY+5),i.stroke(),i.lineWidth=1)}}(e,t),g(t)}function x(t,e,i,n){i.fillStyle=n,i.fillRect(t,e,2,2)}function _(t){for(var e=document.getElementById("2d-plane").getContext("2d"),i=0;i<t.length;i++){var n=t[i];e.fillStyle=-1===n.label?"red":p,e.beginPath(),e.arc(n.posX,n.posY,5,0,2*Math.PI),e.fill()}}var j=function(t,e,i){return{posX:t,posY:e,label:i}},w=i(77),m=i(76),k=i(11);i(75);var y=Object(k.a)({root:{color:"red",height:8},thumb:{height:24,width:24,backgroundColor:"#fff",border:"2px solid currentColor",marginTop:-8,marginLeft:-12,"&:focus, &:hover, &$active":{boxShadow:"inherit"}},active:{},valueLabel:{left:"calc(-50% + 4px)"},track:{height:8,borderRadius:4},rail:{height:8,borderRadius:4}})(w.a),T=5e5,C=function(t){Object(h.a)(i,t);var e=Object(d.a)(i);function i(t){var n;return Object(s.a)(this,i),(n=e.call(this,t)).intervalID=0,n.state={points:[],classMode:!0,weights:S(),isLearning:!1,error:0,lernrate:.9},n}return Object(c.a)(i,[{key:"componentDidMount",value:function(){v(),function(t){var e=document.getElementById("visual_perceptron").getContext("2d");e.fillStyle="#ADD8E6",e.beginPath(),e.arc(20,30,20,0,2*Math.PI),e.fill(),e.fillStyle="black",e.font="20px Arial",e.fillText("1",14,36),e.fillStyle="#ADD8E6",e.beginPath(),e.arc(20,90,20,0,2*Math.PI),e.fill(),e.fillStyle="black",e.font="20px Arial",e.fillText("X",13,97),e.fillStyle="#ADD8E6",e.beginPath(),e.arc(20,150,20,0,2*Math.PI),e.fill(),e.fillStyle="black",e.font="20px Arial",e.fillText("Y",13,157),e.fillStyle="#ADD8E6",e.beginPath(),e.arc(330,90,20,0,2*Math.PI),e.fill(),e.fillStyle="black",e.font="20px Arial",e.fillText("\u2211",323,95),e.beginPath(),e.lineWidth=2,e.moveTo(40,30),e.lineTo(285,30),e.stroke(),e.beginPath(),e.lineWidth=2,e.moveTo(40,90),e.lineTo(310,90),e.stroke(),e.beginPath(),e.lineWidth=2,e.moveTo(40,150),e.lineTo(285,150),e.stroke(),e.fillStyle="black",e.font="20px Arial",e.fillText("w0: "+(Math.round(100*t.bias_weight)/100).toFixed(2),50,25),e.font="20px Arial",e.fillText("w1: "+(Math.round(100*t.weight_1)/100).toFixed(2),50,85),e.font="20px Arial",e.fillText("w2: "+(Math.round(100*t.weight_2)/100).toFixed(2),50,145),e.beginPath(),e.lineWidth=2,e.moveTo(285,150),e.lineTo(285,90),e.stroke(),e.beginPath(),e.lineWidth=2,e.moveTo(285,30),e.lineTo(285,90),e.stroke(),e.beginPath(),e.lineWidth=2,e.moveTo(350,90),e.lineTo(370,90),e.stroke(),e.font="20px Arial",e.fillText("out",372,95)}(this.state.weights)}},{key:"drawPointOnClick",value:function(t){if(!this.state.isRunning){var e=function(t,e,i){var n=document.getElementById("2d-plane"),a=n.getContext("2d"),l=function(t,e){var i=t.getBoundingClientRect();return{x:e.clientX-i.left,y:e.clientY-i.top}}(n,t),r=Math.floor(l.x),o=Math.floor(l.y);a.fillStyle=i?"red":p,a.beginPath(),a.arc(r,o,5,0,2*Math.PI),a.fill();var s=j(r,o,i?-1:1);return e.push(s),e}(t,this.state.points,this.state.classMode);this.setState({points:e})}}},{key:"changeClass",value:function(){this.setState({classMode:!this.state.classMode})}},{key:"train",value:function(){if(0===this.state.points.length)return null;for(var t=this.state.points,e=this.state.weights,i=!1,n=this.state.lernrate,a=0;!i&&a<T;){i=!0;for(var l=0;l<t.length;l++){var r=f(e,t[l].posX,t[l].posY),o=t[l].label-r;0!==o&&(u(e,t[l],o,n),i=!1,a++)}}b(e,t),this.setState({weights:e,error:this.countMisclassified(e,t)})}},{key:"trainVisual",value:function(){var t,e=this;this.setState({isLearning:!0});var i=this.state.points,n=this.state.weights,a=0,l=this.state.lernrate;this.intervalID=setInterval((function(){t=!0;for(var r=0;r<i.length;r++){var o=f(n,i[r].posX,i[r].posY),s=i[r].label-o;0!==s&&(t=!1,a++,u(n,i[r],s,l),a%1e3===0&&b(n,i)),b(n,i)}(t||a>T)&&(e.setState({error:e.countMisclassified(n,i)}),e.stopTraining(),e.setState({weights:n}))}),50)}},{key:"countMisclassified",value:function(t,e){for(var i=0,n=0;n<e.length;n++){var a=e[n];a.label!==f(t,a.posX,a.posY)&&i++}return i}},{key:"stopTraining",value:function(){clearInterval(this.intervalID),this.setState({isLearning:!1})}},{key:"resetWeights",value:function(){var t=this;this.setState({weights:S()}),setTimeout((function(){v(),_(t.state.points),g(t.state.weights)}),20)}},{key:"clear",value:function(){this.setState({points:[]}),v()}},{key:"handleLernrateChange",value:function(t,e){this.setState({lernrate:e})}},{key:"render",value:function(){var t=this,e=this.state,i=e.isLearning,a=e.classMode,l=e.error,r=e.lernrate;return Object(n.jsxs)("div",{className:"perceptron",children:[Object(n.jsx)(m.a,{variant:"contained",color:a?"secondary":"primary",onClick:function(){return t.changeClass()},children:a?"Red":"Blue"}),Object(n.jsx)(m.a,{disabled:i,variant:"contained",onClick:function(){return t.train()},children:"Train"}),Object(n.jsx)(m.a,{disabled:i,variant:"contained",onClick:function(){return t.trainVisual()},children:"Train Visual"}),Object(n.jsx)(m.a,{variant:"contained",onClick:function(e){return t.stopTraining()},children:"Stop Training"}),Object(n.jsx)(m.a,{disabled:i,variant:"contained",onClick:function(){return t.resetWeights()},children:"Reset Weights"}),Object(n.jsx)(m.a,{disabled:i,variant:"contained",onClick:function(e){return t.clear(e)},children:"Clear"}),Object(n.jsxs)("div",{className:"perceptron__slider",children:[Object(n.jsx)(y,{disabled:i,valueLabelDisplay:"auto","aria-label":"pretto slider",defaultValue:.9,min:0,max:1.5,step:.1,onChange:function(e,i){return t.handleLernrateChange(e,i)}}),Object(n.jsxs)("h4",{children:["Lernrate: ",r]})]}),Object(n.jsxs)("div",{className:"perceptron__canvas",children:[Object(n.jsx)("canvas",{className:"perceptron__canvas__2dplane",id:"2d-plane",width:400,height:350,onClick:function(e){return t.drawPointOnClick(e)}}),Object(n.jsxs)("div",{className:"perceptron__canvas__right",children:[Object(n.jsx)("div",{className:"perceptron__canvas__right__labels",children:Object(n.jsxs)("h4",{children:["Missclassifed: ",l]})}),Object(n.jsx)("canvas",{className:"perceptron__canvas__right__info",id:"visual_perceptron",width:400,height:180})]})]})]})}}]),i}(l.a.Component),S=function(){return{weight_1:0,weight_2:0,bias_weight:0}};var O=function(){return Object(n.jsxs)("div",{className:"app",children:[Object(n.jsx)("h1",{children:"Perceptron"}),Object(n.jsx)(C,{})]})},M=function(t){t&&t instanceof Function&&i.e(3).then(i.bind(null,78)).then((function(e){var i=e.getCLS,n=e.getFID,a=e.getFCP,l=e.getLCP,r=e.getTTFB;i(t),n(t),a(t),l(t),r(t)}))};o.a.render(Object(n.jsx)(l.a.StrictMode,{children:Object(n.jsx)(O,{})}),document.getElementById("root")),M()}},[[55,1,2]]]);
//# sourceMappingURL=main.da86fa73.chunk.js.map